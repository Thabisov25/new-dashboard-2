{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thabi\\\\Desktop\\\\Develop\\\\vincent-student-dashboard\\\\src\\\\components\\\\PaymentSession.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Box, Typography, Paper, List, ListItem, ListItemText } from '@mui/material';\nimport { styled } from '@mui/material/styles';\nimport { useStudent } from '../contexts/StudentContext'; // Import the custom hook\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PaymentSession = () => {\n  _s();\n  const {\n    currentStudent\n  } = useStudent(); // Get the current student from context\n  const [student, setStudent] = useState(null);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const loadStudentData = async () => {\n      if (currentStudent && currentStudent.id) {\n        try {\n          const data = await import(`../data/students/${currentStudent.id}.js`);\n          setStudent(data.default); // Set the student data\n        } catch (err) {\n          console.error('Error loading student data:', err);\n          setError('Failed to load student data.');\n        }\n      } else {\n        setError('No current student data available.');\n      }\n    };\n    loadStudentData();\n  }, [currentStudent]);\n\n  // Show error if there's an issue loading the student data\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Typography, {\n      sx: {\n        color: '#ffffff',\n        textAlign: 'center',\n        marginTop: '20px'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 12\n    }, this);\n  }\n\n  // If data is still loading, show \"Loading...\"\n  if (!student) {\n    return /*#__PURE__*/_jsxDEV(Typography, {\n      sx: {\n        color: '#ffffff',\n        textAlign: 'center',\n        marginTop: '20px'\n      },\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 12\n    }, this);\n  }\n  const {\n    paymentInformation = []\n  } = student;\n  const latestPayment = paymentInformation.length > 0 ? paymentInformation[paymentInformation.length - 1] : null;\n  const balance = latestPayment ? latestPayment.amountPaid : 0;\n  const sessionsCovered = latestPayment ? latestPayment.sessionsCovered : [];\n  const latestSession = sessionsCovered.length > 0 ? sessionsCovered[0] : {};\n  const paymentStatus = latestPayment ? latestPayment.status || 'Pending' : 'Pending';\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      p: 3,\n      backgroundColor: '#2c2c2c',\n      color: '#ffffff',\n      minHeight: '100vh'\n    },\n    children: /*#__PURE__*/_jsxDEV(StyledPaper, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        sx: {\n          mb: 2\n        },\n        children: \"Current Payment Session\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        children: [\"Your Balance: R\", balance]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        sx: {\n          mt: 1\n        },\n        children: [\"Session Type: \", latestSession.subject || 'N/A']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        children: [\"Start Date: \", latestSession.startDate || 'N/A']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        children: [\"End Date: \", latestSession.endDate || 'N/A']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        children: [\"Payment Status: \", paymentStatus]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        sx: {\n          mt: 2\n        },\n        children: \"Payment History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        children: paymentInformation.length > 0 ? paymentInformation.map((payment, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n          children: /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: `Payment ${index + 1}: R${payment.amountPaid}`,\n            secondary: `Date: ${new Date(payment.datePaid).toLocaleDateString()}`,\n            primaryTypographyProps: {\n              color: '#ffffff'\n            },\n            secondaryTypographyProps: {\n              color: '#ffffff'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(Typography, {\n          sx: {\n            color: '#ccc'\n          },\n          children: \"No payment history available.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(PaymentSession, \"q/0kf4rQ6q70/bYRRNg6Tv+BsYo=\", false, function () {\n  return [useStudent];\n});\n_c = PaymentSession;\nconst StyledPaper = styled(Paper)({\n  padding: '20px',\n  marginBottom: '20px',\n  backgroundColor: '#333',\n  color: '#ffffff',\n  borderRadius: '8px',\n  boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)'\n});\n_c2 = StyledPaper;\nexport default PaymentSession;\nvar _c, _c2;\n$RefreshReg$(_c, \"PaymentSession\");\n$RefreshReg$(_c2, \"StyledPaper\");","map":{"version":3,"names":["React","useEffect","useState","Box","Typography","Paper","List","ListItem","ListItemText","styled","useStudent","jsxDEV","_jsxDEV","PaymentSession","_s","currentStudent","student","setStudent","error","setError","loadStudentData","id","data","default","err","console","sx","color","textAlign","marginTop","children","fileName","_jsxFileName","lineNumber","columnNumber","paymentInformation","latestPayment","length","balance","amountPaid","sessionsCovered","latestSession","paymentStatus","status","p","backgroundColor","minHeight","StyledPaper","variant","mb","mt","subject","startDate","endDate","map","payment","index","primary","secondary","Date","datePaid","toLocaleDateString","primaryTypographyProps","secondaryTypographyProps","_c","padding","marginBottom","borderRadius","boxShadow","_c2","$RefreshReg$"],"sources":["C:/Users/thabi/Desktop/Develop/vincent-student-dashboard/src/components/PaymentSession.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Box, Typography, Paper, List, ListItem, ListItemText } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport { useStudent } from '../contexts/StudentContext'; // Import the custom hook\r\n\r\nconst PaymentSession = () => {\r\n  const { currentStudent } = useStudent(); // Get the current student from context\r\n  const [student, setStudent] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const loadStudentData = async () => {\r\n      if (currentStudent && currentStudent.id) {\r\n        try {\r\n          const data = await import(`../data/students/${currentStudent.id}.js`);\r\n          setStudent(data.default); // Set the student data\r\n        } catch (err) {\r\n          console.error('Error loading student data:', err);\r\n          setError('Failed to load student data.');\r\n        }\r\n      } else {\r\n        setError('No current student data available.');\r\n      }\r\n    };\r\n\r\n    loadStudentData();\r\n  }, [currentStudent]);\r\n\r\n  // Show error if there's an issue loading the student data\r\n  if (error) {\r\n    return <Typography sx={{ color: '#ffffff', textAlign: 'center', marginTop: '20px' }}>{error}</Typography>;\r\n  }\r\n\r\n  // If data is still loading, show \"Loading...\"\r\n  if (!student) {\r\n    return <Typography sx={{ color: '#ffffff', textAlign: 'center', marginTop: '20px' }}>Loading...</Typography>;\r\n  }\r\n\r\n  const { paymentInformation = [] } = student;\r\n  const latestPayment = paymentInformation.length > 0 ? paymentInformation[paymentInformation.length - 1] : null;\r\n  const balance = latestPayment ? latestPayment.amountPaid : 0;\r\n  const sessionsCovered = latestPayment ? latestPayment.sessionsCovered : [];\r\n  const latestSession = sessionsCovered.length > 0 ? sessionsCovered[0] : {};\r\n  const paymentStatus = latestPayment ? latestPayment.status || 'Pending' : 'Pending';\r\n\r\n  return (\r\n    <Box sx={{ p: 3, backgroundColor: '#2c2c2c', color: '#ffffff', minHeight: '100vh' }}>\r\n      <StyledPaper>\r\n        <Typography variant=\"h4\" sx={{ mb: 2 }}>\r\n          Current Payment Session\r\n        </Typography>\r\n        <Typography variant=\"h6\">Your Balance: R{balance}</Typography>\r\n        <Typography variant=\"body1\" sx={{ mt: 1 }}>\r\n          Session Type: {latestSession.subject || 'N/A'}\r\n        </Typography>\r\n        <Typography variant=\"body1\">Start Date: {latestSession.startDate || 'N/A'}</Typography>\r\n        <Typography variant=\"body1\">End Date: {latestSession.endDate || 'N/A'}</Typography>\r\n        <Typography variant=\"body1\">Payment Status: {paymentStatus}</Typography>\r\n        \r\n        <Typography variant=\"h6\" sx={{ mt: 2 }}>\r\n          Payment History\r\n        </Typography>\r\n        <List>\r\n          {paymentInformation.length > 0 ? (\r\n            paymentInformation.map((payment, index) => (\r\n              <ListItem key={index}>\r\n                <ListItemText\r\n                  primary={`Payment ${index + 1}: R${payment.amountPaid}`}\r\n                  secondary={`Date: ${new Date(payment.datePaid).toLocaleDateString()}`}\r\n                  primaryTypographyProps={{ color: '#ffffff' }}\r\n                  secondaryTypographyProps={{ color: '#ffffff' }}\r\n                />\r\n              </ListItem>\r\n            ))\r\n          ) : (\r\n            <Typography sx={{ color: '#ccc' }}>No payment history available.</Typography>\r\n          )}\r\n        </List>\r\n      </StyledPaper>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst StyledPaper = styled(Paper)({\r\n  padding: '20px',\r\n  marginBottom: '20px',\r\n  backgroundColor: '#333',\r\n  color: '#ffffff',\r\n  borderRadius: '8px',\r\n  boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)',\r\n});\r\n\r\nexport default PaymentSession;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}