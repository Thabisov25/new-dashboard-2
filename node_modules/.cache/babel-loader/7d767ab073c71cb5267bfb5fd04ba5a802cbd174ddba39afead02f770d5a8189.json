{"ast":null,"code":"// models/Student.js\nconst mongoose = require('mongoose');\nconst bcrypt = require('bcryptjs'); // Using bcryptjs for hashing\n\nconst studentSchema = new mongoose.Schema({\n  personalDetails: {\n    id: {\n      type: String,\n      required: true,\n      unique: true\n    },\n    // Student ID as a string\n    name: {\n      type: String,\n      required: true\n    },\n    age: {\n      type: Number,\n      required: true\n    },\n    grade: {\n      type: Number,\n      required: true\n    },\n    contact: {\n      email: {\n        type: String,\n        required: true,\n        unique: true\n      },\n      phone: {\n        type: String,\n        required: true\n      },\n      address: {\n        type: String,\n        required: true\n      },\n      dateOfBirth: {\n        type: String,\n        required: true\n      }\n    }\n  },\n  password: {\n    type: String,\n    required: true\n  } // Storing hashed password\n});\n\n// Automatically hash password before saving the student\nstudentSchema.pre('save', async function (next) {\n  // Hash the password only if it has been modified or is new\n  if (!this.isModified('password')) return next();\n  // Hash the password using bcryptjs with 10 salt rounds\n  this.password = await bcrypt.hash(this.password, 10);\n  next();\n});\n\n// Exporting the student model\nmodule.exports = mongoose.model('Student', studentSchema);","map":{"version":3,"names":["mongoose","require","bcrypt","studentSchema","Schema","personalDetails","id","type","String","required","unique","name","age","Number","grade","contact","email","phone","address","dateOfBirth","password","pre","next","isModified","hash","module","exports","model"],"sources":["C:/Users/thabi/Desktop/Develop/vincent-student-dashboard/src/data/student.js"],"sourcesContent":["// models/Student.js\r\nconst mongoose = require('mongoose');\r\nconst bcrypt = require('bcryptjs'); // Using bcryptjs for hashing\r\n\r\nconst studentSchema = new mongoose.Schema({\r\n  personalDetails: {\r\n    id: { type: String, required: true, unique: true }, // Student ID as a string\r\n    name: { type: String, required: true },\r\n    age: { type: Number, required: true },\r\n    grade: { type: Number, required: true },\r\n    contact: {\r\n      email: { type: String, required: true, unique: true },\r\n      phone: { type: String, required: true },\r\n      address: { type: String, required: true },\r\n      dateOfBirth: { type: String, required: true },\r\n    },\r\n  },\r\n  password: { type: String, required: true }, // Storing hashed password\r\n});\r\n\r\n// Automatically hash password before saving the student\r\nstudentSchema.pre('save', async function (next) {\r\n  // Hash the password only if it has been modified or is new\r\n  if (!this.isModified('password')) return next();\r\n  // Hash the password using bcryptjs with 10 salt rounds\r\n  this.password = await bcrypt.hash(this.password, 10);\r\n  next();\r\n});\r\n\r\n// Exporting the student model\r\nmodule.exports = mongoose.model('Student', studentSchema);\r\n"],"mappings":"AAAA;AACA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMC,MAAM,GAAGD,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;;AAEpC,MAAME,aAAa,GAAG,IAAIH,QAAQ,CAACI,MAAM,CAAC;EACxCC,eAAe,EAAE;IACfC,EAAE,EAAE;MAAEC,IAAI,EAAEC,MAAM;MAAEC,QAAQ,EAAE,IAAI;MAAEC,MAAM,EAAE;IAAK,CAAC;IAAE;IACpDC,IAAI,EAAE;MAAEJ,IAAI,EAAEC,MAAM;MAAEC,QAAQ,EAAE;IAAK,CAAC;IACtCG,GAAG,EAAE;MAAEL,IAAI,EAAEM,MAAM;MAAEJ,QAAQ,EAAE;IAAK,CAAC;IACrCK,KAAK,EAAE;MAAEP,IAAI,EAAEM,MAAM;MAAEJ,QAAQ,EAAE;IAAK,CAAC;IACvCM,OAAO,EAAE;MACPC,KAAK,EAAE;QAAET,IAAI,EAAEC,MAAM;QAAEC,QAAQ,EAAE,IAAI;QAAEC,MAAM,EAAE;MAAK,CAAC;MACrDO,KAAK,EAAE;QAAEV,IAAI,EAAEC,MAAM;QAAEC,QAAQ,EAAE;MAAK,CAAC;MACvCS,OAAO,EAAE;QAAEX,IAAI,EAAEC,MAAM;QAAEC,QAAQ,EAAE;MAAK,CAAC;MACzCU,WAAW,EAAE;QAAEZ,IAAI,EAAEC,MAAM;QAAEC,QAAQ,EAAE;MAAK;IAC9C;EACF,CAAC;EACDW,QAAQ,EAAE;IAAEb,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC,CAAE;AAC9C,CAAC,CAAC;;AAEF;AACAN,aAAa,CAACkB,GAAG,CAAC,MAAM,EAAE,gBAAgBC,IAAI,EAAE;EAC9C;EACA,IAAI,CAAC,IAAI,CAACC,UAAU,CAAC,UAAU,CAAC,EAAE,OAAOD,IAAI,CAAC,CAAC;EAC/C;EACA,IAAI,CAACF,QAAQ,GAAG,MAAMlB,MAAM,CAACsB,IAAI,CAAC,IAAI,CAACJ,QAAQ,EAAE,EAAE,CAAC;EACpDE,IAAI,CAAC,CAAC;AACR,CAAC,CAAC;;AAEF;AACAG,MAAM,CAACC,OAAO,GAAG1B,QAAQ,CAAC2B,KAAK,CAAC,SAAS,EAAExB,aAAa,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}